/* remember to use - transform-style: preserve-3d; */
html,body {
  height:100%;
  overflow: hidden;
}
body {
  background: radial-gradient(#E4CEA6, #9C8763);
  perspective: 1000px;
  margin: 0;
}

#flip {
  height: 350px;
  width: 253px;
  position: absolute;
  left: 50%;
  top: 10px;
  transform-style: preserve-3d;
  transform-origin: 0 0 0;
}

#flip #front {
  animation: wrapperfront 3s ease;
  transform: rotateX(0deg) !important;
}

#flip #back {
  animation: wrapperback 3s ease;
  transform: rotateX(180deg) scaleY(-1) translateY(0px);
}

@keyframes wrapperfront {
  50% {
    transform: rotateX(135deg) translateY(50px);
  }
  100% {
    transform:rotateX(180deg) translateY(-350px);
  }
}

@keyframes wrapperback {
  50% {
    transform: rotateX(315deg) scaleY(-1) translateY(50px);
    transform-origin: 0 0 0;
  }
  100% {
    transform: rotateX(360deg) scaleY(-1) translateY(-350px);
    transform-origin: 0 0 0;
  }
}

#flip div{
  height: 35px;
  width: 253px;
  position: absolute;
  backface-visibility: hidden;
  top: calc(100% - 3px);
  transform-origin: 100% 0;
  transform-style: preserve-3d;
  background-size: 253px 350px;
}


#flip #front,
#flip #front div {
  background-image: url(<%= asset_path("karelback_blue") %>);

}

#flip #back,
#flip #back div {
  background-image: url(<%= asset_path("test.png") %>);
}

#flip div { background-position-y: 0; }
#flip div > div { background-position-y: -31.8px; }
#flip div > div > div { background-position-y : -63.6px; }
#flip div > div > div > div { background-position-y : -95.5px; }
#flip div > div > div > div > div { background-position-y : -127.3px; }
#flip div > div > div > div > div > div { background-position-y : -159.1px; }
#flip div > div > div > div > div > div > div { background-position-y : -190.9px; }
#flip div > div > div > div > div > div > div > div  { background-position-y : -222.7px; }
#flip div > div > div > div > div > div > div > div > div { background-position-y : -254.5px; }
#flip div > div > div > div > div > div > div > div > div > div { background-position-y : -286.4px; }
#flip div > div > div > div > div > div > div > div > div > div > div { background-position-y : -318.2px; }
/* the more pieces you have, the smoother the bend is */

#flip #front div { animation: pagefront 3s ease-in-out; }
#flip #back div { animation: pageback 3s ease-in-out; }

@keyframes pagefront {
  10% { transform: rotateX(6deg); }
  75% { transform: rotateX(-2deg); }
}

@keyframes pageback {
  10% { transform: rotateX(-6deg); }
  75% { transform: rotateX(2deg); }
}


h4 {
  position: absolute;
  bottom: 20px;
  left: 20px;
  margin: 0;
  font-weight: 200;
  opacity: 1;
  font-family: sans-serif;
  color: rgba(0,0,0,0.3);
}